<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>FAT12/FAT16 Filesystem Dump: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="act.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">FAT12/FAT16 Filesystem Dump
   &#160;<span id="projectnumber">2.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('index.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">FAT12/FAT16 Filesystem Dump Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Gegeven zijn drie <b>img</b> files, waar een (deel van een) <a href="http://en.wikipedia.org/wiki/Design_of_the_FAT_file_system" target="info">FAT filesysteem</a> in zit. Schrijf een programma dat de low-level systeemdata van zo'n filesysteem kan uitlezen en afdrukken. De inhoud van de rootdirectory hoort bij deze opdracht (sla s.v.p. de ongebruikte entries over). De inhoud van andere bestanden wordt niet gevraagd. Idem wordt de inhoud van subdirectories niet gevraagd.</p>
<p>De exacte layout van de uitvoer doet niet terzake zolang het maar overzichtelijk is. De file <code>fat12.txt</code> geeft een voorbeeld van de mogelijke uitvoer.</p>
<p>Behalve de <code>fat12.img</code> file (FAT12 layout) zijn er ook nog <code>fat16.img</code> (FAT16 layout) en een <code>fatXX.img</code> bestand. Van <code>fatXX.img</code> is alleen bekend dat het <b>of</b> FAT12 <b>of</b> FAT16 is, maar verder weten we niets. Jouw programma moet zelf in staat zijn om, op basis van de <b>inhoud</b> van een image, te beslissen of het FAT12 danwel FAT16 is.</p>
<p>PAS OP: In de bootsector zitten vaak diverse "hints", maar die zijn niet echt betrouwbaar. De gangbare vuistregel: klein=FAT12, groter=FAT16, is niet per-definitie waar, het zegt alleen maar wat veel besturingssystemen doen.</p>
<dl class="section note"><dt>Note</dt><dd> HINT: Kijk eens goed naar 
        <a target='info'
        href='http://en.wikipedia.org/wiki/Design_of_the_FAT_file_system#File_Allocation_Table'>FAT Table</a>
        en met name de alinea's onder de zin
        "<em>The first two entries in a FAT store special values</em>:"
        direct na het kopje "<a target='info'
        href='http://en.wikipedia.org/wiki/Design_of_the_FAT_file_system#Special_entries'>Special
        entries</a>".</dd></dl>
<p>Mocht iemand een afwijkende img file proberen uit te lezen dan moet jouw programma detecteren dat het geen FAT12/FAT16 is, en vervolgens netjes eindigen.</p>
<p>Gegeven zijn:</p>
<dl>
<dt>fat12.img </dt>
<dd>Een oude 720K floppy in FAT12 formaat. </dd>
<dt>fat12.txt </dt>
<dd>Een voorbeeld van de uitvoer. Jouw layout mag best anders zijn, mits overzichtelijk. </dd>
<dt>fat16.img </dt>
<dd>Het eerste stukje van een USB-stick in FAT16 formaat; Alle sectoren achter de root-directory zijn weggelaten (en zijn voor de opdracht ook niet relevant). </dd>
<dt>fatXX.img </dt>
<dd>Wederom het begin van een filesysteem maar dit keer is niet bij voorbaat bekend of het FAT12 danwel FAT16 is. Het is zeker geen ander filesysteem. De parameters van dit image zijn alles behalve "gewoon" maar wel conform de standaard. </dd>
</dl>
<p>Gevraagde informatie:</p>
<ul>
<li>
De parameters uit de bootsector. <dl class="section note"><dt>Note</dt><dd>Denk aan "sanity-checks" die controleren of die parameters geen onzin zijn. <br/>
Bijvoorbeeld: bytes-per-sector is <b>of</b> 128 <b>of</b> 256 <b>of</b> 512 <b>of</b> 1024. <br/>
Idem: Sectors-per-cluster is altijd een 2-macht en clusters kunnen niet groter zijn dan 32K. </dd></dl>
</li>
<li>
Informatie over de FAT tabellen. </li>
<li>
De informatie over de entries in de ROOT directory van het filesysteem. Gedelete entries in de root directory moet je weglaten. </li>
<li>
Welke clusters bij de entries in de rootdirectory horen. </li>
<li>
Denk aan de correcte afhandeling van LFN entries ("Long File Name"). </li>
<li>
De namen van LFN (<a href="http://en.wikipedia.org/wiki/Design_of_the_FAT_file_system#VFAT_long_file_names" target="info">Long File Name</a>) entries worden normaliter gecodeerd met UTF16 codes; Bij deze opdracht mag je ze behandelen als een gewoon 8-bit karakter gevolgd door 1 dummy byte. </li>
<li>
De inhoud van sub-directories hoef je NIET af te handelen. </li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Een echt device kan je alleen in hele sectoren lezen die ook op sector grenzen liggen. Dat moet bij deze opdracht dus ook gebeuren.</dd></dl>
<p>&#160;</p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Feb 9 2015 14:55:12 for FAT12/FAT16 Filesystem Dump by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
